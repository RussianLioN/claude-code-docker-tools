# Claude Code + Gemini Dual AI Assistant: Enterprise Environment

![Version](https://img.shields.io/badge/version-2.1.0-blue.svg?style=flat-square)
![Architecture](https://img.shields.io/badge/architecture-Dual%20AI%20%2B%20SSH%20Forwarding-purple.svg?style=flat-square)
![Security](https://img.shields.io/badge/security-Zero%20Trust-green.svg?style=flat-square)
![Status](https://img.shields.io/badge/status-production--ready-success.svg?style=flat-square)

**Enterprise-grade dual AI environment for Claude Code + Gemini development on macOS.**

---

## üìë –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ (Table of Contents)

1.  [–í–≤–µ–¥–µ–Ω–∏–µ –∏ –§–∏–ª–æ—Å–æ—Ñ–∏—è –ü—Ä–æ–µ–∫—Ç–∞](#1-–≤–≤–µ–¥–µ–Ω–∏–µ-–∏-—Ñ–∏–ª–æ—Å–æ—Ñ–∏—è-–ø—Ä–æ–µ–∫—Ç–∞)
2.  [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –†–µ—à–µ–Ω–∏—è](#2-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∏-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ-—Ä–µ—à–µ–Ω–∏—è)
    *   [Dual AI Architecture](#dual-ai-architecture)
    *   [–ò–∑–æ–ª—è—Ü–∏—è —á–µ—Ä–µ–∑ Docker (Alpine Linux)](#–∏–∑–æ–ª—è—Ü–∏—è-—á–µ—Ä–µ–∑-docker-alpine-linux)
    *   [–ü–∞—Ç—Ç–µ—Ä–Ω Sync In / Sync Out](#–ø–∞—Ç—Ç–µ—Ä–Ω-sync-in--sync-out-—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º—ã-virtiofs)
    *   [–°–µ—Ç–µ–≤–∞—è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (SSH Agent Forwarding)](#—Å–µ—Ç–µ–≤–∞—è-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å-ssh-agent-forwarding)
    *   [In-Memory Context (AIC/CIC)](#in-memory-context-aiccic-architecture)
3.  [Quick Start (–®–ø–∞—Ä–≥–∞–ª–∫–∞)](#3-quick-start-—à–ø–∞—Ä–≥–∞–ª–∫–∞)
4.  [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ](#4-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ)
5.  [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –†–µ–∂–∏–º–∞–º–∏](#5-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-–∏-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Ä–µ–∂–∏–º–∞–º–∏)
6.  [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –°–µ–∫—Ä–µ—Ç–∞–º–∏ –∏ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#6-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Å–µ–∫—Ä–µ—Ç–∞–º–∏-–∏-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
7.  [–†–∞–±–æ—á–∏–µ –ü—Ä–æ—Ü–µ—Å—Å—ã (Workflows)](#7-—Ä–∞–±–æ—á–∏–µ-–ø—Ä–æ—Ü–µ—Å—Å—ã-workflows)
    *   [Gemini –†–µ–∂–∏–º](#gemini-—Ä–µ–∂–∏–º)
    *   [Claude Code –†–µ–∂–∏–º](#claude-code-—Ä–µ–∂–∏–º)
    *   [AI-–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ö–æ–º–º–∏—Ç–æ–≤](#ai-–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è-–∫–æ–º–º–∏—Ç–æ–≤)
    *   [–°–∏—Å—Ç–µ–º–Ω—ã–π –†–µ–∂–∏–º (Gexec)](#—Å–∏—Å—Ç–µ–º–Ω—ã–π-—Ä–µ–∂–∏–º-gexec)
8.  [–°—Ä–∞–≤–Ω–µ–Ω–∏–µ AI –†–µ–∂–∏–º–æ–≤](#8-—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ-ai-—Ä–µ–∂–∏–º–æ–≤)
9.  [Troubleshooting –∏ FAQ](#9-troubleshooting-–∏-faq)
10. [–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ê: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Claude API](#10-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-–∞-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-claude-api)

---

## 1. –í–≤–µ–¥–µ–Ω–∏–µ –∏ –§–∏–ª–æ—Å–æ—Ñ–∏—è –ü—Ä–æ–µ–∫—Ç–∞

–í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ macOS) —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ CLI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π ("Dependency Hell"). –° –ø–æ—è–≤–ª–µ–Ω–∏–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤ (Gemini, Claude Code) –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ä–µ–¥–µ.

### –ù–∞—à–µ –†–µ—à–µ–Ω–∏–µ: Dual AI Infrastructure as Code (IaC)
–ú—ã —Å–æ–∑–¥–∞–ª–∏ –µ–¥–∏–Ω—É—é Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—É—é —Å—Ä–µ–¥—É, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â—É—é –∫–∞–∫ Google Gemini CLI, —Ç–∞–∫ –∏ Claude Code, —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤ —Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º—É (macOS).

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
*   üöÄ **Dual AI Support:** –ï–¥–∏–Ω–∞—è —Å—Ä–µ–¥–∞ –¥–ª—è Gemini –∏ Claude Code.
*   üîí **Secure by Design:** –°–µ–∫—Ä–µ—Ç—ã –∂–∏–≤—É—Ç —Ç–æ–ª—å–∫–æ –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
*   üß† **Context Aware:** –°–∏—Å—Ç–µ–º–∞ –ø–æ–Ω–∏–º–∞–µ—Ç, –≤ –∫–∞–∫–æ–º Git-–ø—Ä–æ–µ–∫—Ç–µ –∏ AI —Ä–µ–∂–∏–º–µ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å.
*   üîÑ **Self-Healing & Auto-Update:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–±–æ–∏—Ö AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.
*   ‚ö° **Mode Switching:** –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞–º–∏.

---

## 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –†–µ—à–µ–Ω–∏—è

### Dual AI Architecture

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 macOS Host System                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ai-assistant.zsh (Unified Wrapper)                    ‚îÇ
‚îÇ    ‚îú‚îÄ gemini() ‚Üí Docker (Gemini Mode)                   ‚îÇ
‚îÇ    ‚îú‚îÄ claude() ‚Üí Docker (Claude Mode)                   ‚îÇ
‚îÇ    ‚îú‚îÄ aic() / cic() (AI Commits)                        ‚îÇ
‚îÇ    ‚îî‚îÄ gexec() (System Commands)                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
                    Docker Network
                           ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ            claude-code-tools Container                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  entrypoint.sh (Mode Detection)                         ‚îÇ
‚îÇ    ‚îú‚îÄ AI_MODE=claude ‚Üí Claude CLI                       ‚îÇ
‚îÇ    ‚îî‚îÄ AI_MODE=gemini ‚Üí Gemini CLI                       ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ  /workspace (Mounted Volume)                            ‚îÇ
‚îÇ  /root/.ai (State Sync)                                 ‚îÇ
‚îÇ  SSH Agent Forwarding                                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ò–∑–æ–ª—è—Ü–∏—è —á–µ—Ä–µ–∑ Docker (Alpine Linux)
–ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ `node:22-alpine` –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –æ–±–æ–∏—Ö AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:
- **Gemini CLI**: @google/gemini-cli
- **Claude Code Tools**: @anthropic-ai/claude-cli
- **–°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞–∫–µ—Ç—ã**: bash, coreutils, git, openssh, github-cli, curl, wget

### –ü–∞—Ç—Ç–µ—Ä–Ω Sync In / Sync Out (–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã VirtioFS)
–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º **State Synchronization** –¥–ª—è dual-—Ä–µ–∂–∏–º–∞:
1.  **Boot Phase (Sync In):** –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ `~/.docker-ai-config/global_state` –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.
2.  **Runtime Phase:** Docker –º–æ–Ω—Ç–∏—Ä—É–µ—Ç `.ai-state/` —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ –æ–±–æ–∏—Ö AI.
3.  **Shutdown Phase (Sync Out):** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –æ–±—Ä–∞—Ç–Ω–æ.

### Adaptive Workspace (Smart Mounting)
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–ø—É—Å–∫–∞:
- **Git Root:** –ú–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤ `/workspace/<project_name>`.
- **Subdirectory:** –ö–æ—Ä–µ–Ω—å Git –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤ `/workspace`, —Å–∫—Ä—ã–≤–∞—è –∏–º—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –ø–∞–ø–∫–∏.
- **No Git:** –¢–µ–∫—É—â–∞—è –ø–∞–ø–∫–∞ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤ `/workspace/<folder_name>`.

### –°–µ—Ç–µ–≤–∞—è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (SSH Agent Forwarding)
–ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ Unix-—Å–æ–∫–µ—Ç–∞ SSH –∞–≥–µ–Ω—Ç–∞: `-v /run/host-services/ssh-auth.sock:/run/host-services/ssh-auth.sock`.
**Sanitization** SSH-–∫–æ–Ω—Ñ–∏–≥–∞ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å Linux —Å—Ä–µ–¥–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

### In-Memory Context (AIC/CIC Architecture)
**Gemini AI Commit (aic)** –∏ **Claude AI Commit (cic)**:
- –ö–æ–Ω—Ç–µ–∫—Å—Ç (Git –∏—Å—Ç–æ—Ä–∏—è + Diff) –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –ø–æ–¥ –∫–∞–∂–¥—ã–π AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç

---

## 3. Quick Start (–®–ø–∞—Ä–≥–∞–ª–∫–∞)

### –û—Å–Ω–æ–≤–Ω—ã–µ –ö–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | AI –†–µ–∂–∏–º | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
| :--- | :--- | :--- | :--- |
| **`gemini`** | Gemini | **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ß–∞—Ç** | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ |
| **`claude`** | Claude | **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ß–∞—Ç** | –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞, –¥–µ–±–∞–≥–≥–∏–Ω–≥ |
| **`aic`** | Gemini | **AI Commit** | –ö–æ–º–º–∏—Ç—ã –≤ —Å—Ç–∏–ª–µ DevOps |
| **`cic`** | Claude | **AI Commit** | –ö–æ–º–º–∏—Ç—ã –≤ —Å—Ç–∏–ª–µ Software Engineer |
| **`gexec`** | - | **God Mode** | –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ |
| **`ai-mode`** | - | **Switcher** | –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ |

### –°—Ü–µ–Ω–∞—Ä–∏–π "–¢–∏–ø–∏—á–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏"

```bash
# 1. –†–∞–±–æ—Ç–∞ —Å Gemini
cd ~/my-project
gemini
> "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π @server.js"
> /exit

# 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π Gemini –∫–æ–º–º–∏—Ç
# ü§ñ Gemini –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è...
# üìù –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–π –∫–æ–º–º–∏—Ç: feat(server): optimize logic
# üöÄ –í—ã–ø–æ–ª–Ω–∏—Ç—å commit? [y/N]: y

# 3. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ Claude
ai-mode claude
claude
> "–ù–∞–π–¥–∏ –±–∞–≥–∏ –≤ —ç—Ç–æ–º –∫–æ–¥–µ..."
> /exit

# 4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π Claude –∫–æ–º–º–∏—Ç
# ü§ñ Claude –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è...
# üìù –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–π –∫–æ–º–º–∏—Ç (Claude): fix(server): resolve null pointer exception
```

---

## 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
*   macOS (Apple Silicon / Intel).
*   Docker Desktop 4.0+.
*   SSH –∫–ª—é—á–∏ (Ed25519), –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –≤ –∞–≥–µ–Ω—Ç.
*   **Claude API Key** (–¥–ª—è Claude —Ä–µ–∂–∏–º–∞).

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
mkdir -p ~/tools && cd ~/tools
git clone git@github.com:RussianLioN/claude-code-docker-tools.git .
```

### –®–∞–≥ 2: –ò–Ω—Å—Ç–∞–ª–ª—è—Ü–∏—è
```bash
./install.sh
source ~/.zshrc
```
–ò–Ω—Å—Ç–∞–ª–ª—è—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–µ—Ä–µ—Ç –æ–±—Ä–∞–∑ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –æ–±–æ–∏—Ö AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Claude API
```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
nano ~/.docker-ai-config/env

# –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤–∞—à Claude API –∫–ª—é—á
export CLAUDE_API_KEY="sk-ant-api03-..."
```

---

## 5. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –†–µ–∂–∏–º–∞–º–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
–°–∫—Ä–∏–ø—Ç `ai-assistant.zsh` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –æ–±–æ–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º –∑–∞–ø—É—Å–∫–µ.

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –†–µ–∂–∏–º–æ–≤
```bash
ai-mode gemini    # –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ Gemini —Ä–µ–∂–∏–º
ai-mode claude    # –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ Claude —Ä–µ–∂–∏–º
ai-mode           # –ü–æ–∫–∞–∑ —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–∂–∏–º–∞
```

### –§–∞–π–ª—ã –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ù–æ–≤—ã–π unified –ø—É—Ç—å:** `~/.docker-ai-config/`
*   **`settings.json`**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Gemini –º–æ–¥–µ–ª–∏.
*   **`claude_config.json`**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Claude –º–æ–¥–µ–ª–∏.
*   **`env`**: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (API –∫–ª—é—á–∏).
*   **`google_accounts.json`**: Google –∞–∫–∫–∞—É–Ω—Ç—ã –¥–ª—è Gemini.

**‚ö†Ô∏è –ú–∏–≥—Ä–∞—Ü–∏—è –∏–∑ —Å—Ç–∞—Ä–æ–π —Å–∏—Å—Ç–µ–º—ã:**

–ï—Å–ª–∏ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è (`gemini-docker-setup`), —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. –û–±–Ω–∞—Ä—É–∂–∏—Ç credentials –≤ `~/.docker-gemini-config/`
2. –ü—Ä–µ–¥–ª–æ–∂–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –º–∏–≥—Ä–∞—Ü–∏—é
3. –°–æ–∑–¥–∞—Å—Ç backup –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏–µ–π

```bash
# –†—É—á–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
./scripts/migrate-credentials.sh

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ credentials
./scripts/credential-manager.sh status
./scripts/credential-manager.sh migrate
```

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [CREDENTIAL_MIGRATION_GUIDE.md](./CREDENTIAL_MIGRATION_GUIDE.md)

---

## 6. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –°–µ–∫—Ä–µ—Ç–∞–º–∏ –∏ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–∏–Ω—Ü–∏–ø Zero Trust
–°–µ–∫—Ä–µ—Ç—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–∫–∏–¥–∞—é—Ç –≤–∞—à –¥–∏—Å–∫:
```gitignore
.ai-state/              # –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
.docker-ai-config/      # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
google_accounts.json    # Gemini OAuth —Ç–æ–∫–µ–Ω—ã
claude_config.json      # Claude –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
.env                    # API –∫–ª—é—á–∏
```

**–ê–≤—Ç–æ-–∑–∞—â–∏—Ç–∞:** –§—É–Ω–∫—Ü–∏–∏ `aic` –∏ `cic` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç `.ai-state/` –≤ `.gitignore`.

---

## 7. –†–∞–±–æ—á–∏–µ –ü—Ä–æ—Ü–µ—Å—Å—ã (Workflows)

### Gemini –†–µ–∂–∏–º
–ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å Gemini CLI –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–∞.
*   **–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:** DevOps –ø–æ–¥—Ö–æ–¥, —Å–∏—Å—Ç–µ–º–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è.
*   **–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è:** Infrastructure as Code, CI/CD, —Å–∫—Ä–∏–ø—Ç–æ–≤, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

### Claude Code –†–µ–∂–∏–º
–ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å Claude Code –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–∞.
*   **–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:** –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞, –¥–µ–±–∞–≥–≥–∏–Ω–≥, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥.
*   **–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è:** Code review, –ø–æ–∏—Å–∫–∞ –±–∞–≥–æ–≤, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤.

### AI-–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ö–æ–º–º–∏—Ç–æ–≤
**Gemini (aic):** –§–æ–∫—É—Å –Ω–∞ DevOps —Å—Ç–∏–ª–µ, semantic commits.
**Claude (cic):** –§–æ–∫—É—Å –Ω–∞ Software Engineering —Å—Ç–∏–ª–µ, –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è.

### –°–∏—Å—Ç–µ–º–Ω—ã–π –†–µ–∂–∏–º (Gexec)
–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Docker.

---

## 8. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ AI –†–µ–∂–∏–º–æ–≤

| –ê—Å–ø–µ–∫—Ç | Gemini | Claude Code |
| :--- | :--- | :--- |
| **–°—Ç–∏–ª—å** | DevOps Engineer | Senior Software Engineer |
| **–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã** | –°–∏—Å—Ç–µ–º—ã, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è, CI/CD | –ö–æ–¥, –∞–ª–≥–æ—Ä–∏—Ç–º—ã, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ |
| **–ö–æ–º–º–∏—Ç—ã** | –ö–æ–Ω–≤–µ–Ω—Ü–∏–æ–Ω–Ω—ã–µ, semantic | –î–µ—Ç–∞–ª—å–Ω—ã–µ, –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ |
| **–ö–æ–Ω—Ç–µ–∫—Å—Ç** | –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –ø—Ä–æ—Ü–µ—Å—Å—ã | –ö–æ–¥, –ø–∞—Ç—Ç–µ—Ä–Ω—ã, –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ |
| **API** | OAuth Google | API Key Anthropic |

---

## 9. Troubleshooting –∏ FAQ

### Q: –û—à–∏–±–∫–∞ "CLAUDE_API_KEY not found"
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω API –∫–ª—é—á –¥–ª—è Claude.
**–†–µ—à–µ–Ω–∏–µ:** –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `~/.docker-ai-config/env` –∏ –¥–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á.

### Q: –ö–∞–∫ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –º–µ–∂–¥—É AI —Ä–µ–∂–∏–º–∞–º–∏?
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `ai-mode <gemini|claude>`.

### Q: –û—à–∏–±–∫–∞ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ Claude —Ä–µ–∂–∏–º–µ
**–ü—Ä–∏—á–∏–Ω–∞:** –ö–ª—é—á –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ SSH –∞–≥–µ–Ω—Ç–µ.
**–†–µ—à–µ–Ω–∏–µ:** `ssh-add --apple-use-keychain ~/.ssh/id_ed25519`

### Q: –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É aic –∏ cic?
**aic** - Gemini AI Commit, **cic** - Claude AI Commit. –†–∞–∑–Ω—ã–µ —Å—Ç–∏–ª–∏ –∫–æ–º–º–∏—Ç–æ–≤.

---

## 10. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ê: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Claude API

### –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Anthropic Console](https://console.anthropic.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á
3. –î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á –≤ `~/.docker-ai-config/env`

### –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```bash
# ~/.docker-ai-config/env
export CLAUDE_API_KEY="sk-ant-api03-..."
export CLAUDE_MODEL="claude-3-5-sonnet-20241022"
export CLAUDE_MAX_TOKENS=4096
export AI_CURRENT_MODE="gemini"  # –∏–ª–∏ "claude"
```

### –ú–æ–¥–µ–ª–∏ Claude
- **claude-3-5-sonnet-20241022**: –û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **claude-3-opus-20240229**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **claude-3-haiku-20240307**: –ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã

---
*Documentation Version 2.1.0. Ephemeral Architecture Implementation.*
